{"ast":null,"code":"import React,{createContext,useState}from\"react\";import all_product from\"../components/Assets/all_product copy\";import{jsx as _jsx}from\"react/jsx-runtime\";export const ShopContext=/*#__PURE__*/createContext(null);const getDefaultCart=()=>{let cart={};for(let index=0;index<all_product.length+1;index++){cart[index]=0;}return cart;};const ShopContextProvider=props=>{const[cartItem,setCartItem]=useState(getDefaultCart());const addToCart=itemId=>{setCartItem(prev=>({...prev,[itemId]:prev[itemId]+1}));console.log(cartItem);};const removeFromCart=itemId=>{setCartItem(prev=>({...prev,[itemId]:prev[itemId]-1}));};const getTotalCartAmount=()=>{let totalAmount=0;for(const item in cartItem){if(cartItem[item]>0){let itemInfo=all_product.find(product=>product.id===Number(item));if(itemInfo){totalAmount+=itemInfo.new_price*cartItem[item];}}}return totalAmount;};const getTotalCartItems=()=>{let totalItem=0;for(const item in cartItem){if(cartItem[item]>0){totalItem+=cartItem[item];}}return totalItem;};const contextValue={all_product,cartItem,addToCart,removeFromCart,getTotalCartAmount,getTotalCartItems};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};export default ShopContextProvider;","map":{"version":3,"names":["React","createContext","useState","all_product","jsx","_jsx","ShopContext","getDefaultCart","cart","index","length","ShopContextProvider","props","cartItem","setCartItem","addToCart","itemId","prev","console","log","removeFromCart","getTotalCartAmount","totalAmount","item","itemInfo","find","product","id","Number","new_price","getTotalCartItems","totalItem","contextValue","Provider","value","children"],"sources":["/Users/saurabh/my-app/frontend/src/Context/ShopContext.jsx"],"sourcesContent":["import React, { createContext, useState } from \"react\";\nimport all_product from \"../components/Assets/all_product copy\";\nimport PropTypes from \"prop-types\";\n\nexport const ShopContext = createContext(null);\nconst getDefaultCart = () => {\n  let cart = {};\n  for (let index = 0; index < all_product.length + 1; index++) {\n    cart[index] = 0;\n  }\n  return cart;\n};\n\nconst ShopContextProvider = (props) => {\n  const [cartItem, setCartItem] = useState(getDefaultCart());\n  const addToCart = (itemId) => {\n    setCartItem((prev) => ({ ...prev, [itemId]: prev[itemId] + 1 }));\n    console.log(cartItem);\n  };\n  const removeFromCart = (itemId) => {\n    setCartItem((prev) => ({ ...prev, [itemId]: prev[itemId] - 1 }));\n  };\n  const getTotalCartAmount = () => {\n    let totalAmount = 0;\n    for (const item in cartItem) {\n      if (cartItem[item] > 0) {\n        let itemInfo = all_product.find(\n          (product) => product.id === Number(item)\n        );\n        if (itemInfo) {\n          totalAmount += itemInfo.new_price * cartItem[item];\n        }\n      }\n    }\n    return totalAmount;\n  };\n  const getTotalCartItems = () => {\n    let totalItem = 0;\n    for (const item in cartItem) {\n      if (cartItem[item] > 0) {\n        totalItem += cartItem[item];\n      }\n    }\n    return totalItem;\n  };\n  const contextValue = {\n    all_product,\n    cartItem,\n    addToCart,\n    removeFromCart,\n    getTotalCartAmount,\n    getTotalCartItems,\n  };\n\n  return (\n    <ShopContext.Provider value={contextValue}>\n      {props.children}\n    </ShopContext.Provider>\n  );\n};\nShopContextProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ShopContextProvider;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CACtD,MAAO,CAAAC,WAAW,KAAM,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAGhE,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,IAAI,CAAC,CAC9C,KAAM,CAAAM,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAAAC,IAAI,CAAG,CAAC,CAAC,CACb,IAAK,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGN,WAAW,CAACO,MAAM,CAAG,CAAC,CAAED,KAAK,EAAE,CAAE,CAC3DD,IAAI,CAACC,KAAK,CAAC,CAAG,CAAC,CACjB,CACA,MAAO,CAAAD,IAAI,CACb,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAIC,KAAK,EAAK,CACrC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAACK,cAAc,CAAC,CAAC,CAAC,CAC1D,KAAM,CAAAQ,SAAS,CAAIC,MAAM,EAAK,CAC5BF,WAAW,CAAEG,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAACD,MAAM,EAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAE,CAAC,CAAC,CAAC,CAChEE,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC,CACvB,CAAC,CACD,KAAM,CAAAO,cAAc,CAAIJ,MAAM,EAAK,CACjCF,WAAW,CAAEG,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAACD,MAAM,EAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAE,CAAC,CAAC,CAAC,CAClE,CAAC,CACD,KAAM,CAAAK,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAI,CAAAC,WAAW,CAAG,CAAC,CACnB,IAAK,KAAM,CAAAC,IAAI,GAAI,CAAAV,QAAQ,CAAE,CAC3B,GAAIA,QAAQ,CAACU,IAAI,CAAC,CAAG,CAAC,CAAE,CACtB,GAAI,CAAAC,QAAQ,CAAGrB,WAAW,CAACsB,IAAI,CAC5BC,OAAO,EAAKA,OAAO,CAACC,EAAE,GAAKC,MAAM,CAACL,IAAI,CACzC,CAAC,CACD,GAAIC,QAAQ,CAAE,CACZF,WAAW,EAAIE,QAAQ,CAACK,SAAS,CAAGhB,QAAQ,CAACU,IAAI,CAAC,CACpD,CACF,CACF,CACA,MAAO,CAAAD,WAAW,CACpB,CAAC,CACD,KAAM,CAAAQ,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAI,CAAAC,SAAS,CAAG,CAAC,CACjB,IAAK,KAAM,CAAAR,IAAI,GAAI,CAAAV,QAAQ,CAAE,CAC3B,GAAIA,QAAQ,CAACU,IAAI,CAAC,CAAG,CAAC,CAAE,CACtBQ,SAAS,EAAIlB,QAAQ,CAACU,IAAI,CAAC,CAC7B,CACF,CACA,MAAO,CAAAQ,SAAS,CAClB,CAAC,CACD,KAAM,CAAAC,YAAY,CAAG,CACnB7B,WAAW,CACXU,QAAQ,CACRE,SAAS,CACTK,cAAc,CACdC,kBAAkB,CAClBS,iBACF,CAAC,CAED,mBACEzB,IAAA,CAACC,WAAW,CAAC2B,QAAQ,EAACC,KAAK,CAAEF,YAAa,CAAAG,QAAA,CACvCvB,KAAK,CAACuB,QAAQ,CACK,CAAC,CAE3B,CAAC,CAKD,cAAe,CAAAxB,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}